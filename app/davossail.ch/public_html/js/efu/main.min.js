var efu=efu||{};efu.w=efu.w||{},"undefined"!=typeof diy&&(diy.efu=efu),efu.config={log:{console:0,server:5}},efu.addLog=function(a,b){if(b=b||efu.config.log,a.log=function(){},a.debug=function(){},a.info=function(){},a.warn=function(){},a.err=function(){},window.console&&window.console.log&&b.console){var c=function(a){return a>=b.console};a.log=function(){if(!c(1))return!1;try{console.log.apply(console,arguments)}catch(b){var a=[].slice.call(arguments);console.log(a)}return!0},a.debug=function(){if(!c(2))return!1;try{console.debug.apply(console,arguments)}catch(b){var a=[].slice.call(arguments);a.unshift("DEBUG: "),console.log(a)}return!0},a.info=function(){if(!c(3))return!1;try{console.info.apply(console,arguments)}catch(b){var a=[].slice.call(arguments);a.unshift("INFO: "),console.log(a)}return!0},a.warn=function(){if(!c(4))return!1;try{console.warn.apply(console,arguments)}catch(b){var a=[].slice.call(arguments);a.unshift("WARNING: "),console.log(a)}return!0},a.err=function(){if(!c(5))return!1;try{1===arguments.length?console.error.apply(console,["",arguments[0]]):console.error.apply(console,Array.prototype.slice.call(arguments,0))}catch(b){var a=[].slice.call(arguments);a.unshift("ERROR: "),console.log(a)}return!0}}},efu.addLog(efu),efu.error={events:function(a,b){},simple:function(a,b){efu.error("EFU: ERROR: simple/unknown: ["+a+"]: ",b)}},efu.events={dc:function(a,b,c){if(efu.log("EFU: EVENTS: dc: ",arguments),!b||!b.CONTAINER)return!1;var d="dc_event";void 0!==c&&void 0!==b.WID&&(d=d+"."+c+"."+b.WID,efu.log("EFU: EVENTS: dc: final event name for off/on: ",d),efu.mediator().off(d));var e=$("#"+b.CONTAINER).css("width");return efu.mediator().on(d,a,[b]),e&&0!==parseInt(e)&&efu.mediator().trigger("dc_event"),!0},resize:function(a,b,c){efu.log("EFU: EVENTS: resize: ",arguments);var d="resize";void 0!==c&&void 0!==b.WID&&(d=d+"."+c+"."+b.WID,efu.log("EFU: EVENTS: resize: final event name for off/on: ",d),efu.mediator().off(d)),efu.mediator().on(d,a,[b])},rotate:function(a,b,c){efu.log("EFU: EVENTS: rotate: ",arguments);var d="rotate";void 0!==c&&void 0!==b.WID&&(d=d+"."+c+"."+b.WID,efu.log("EFU: EVENTS: rotate: final event name for off/on: ",d),efu.mediator().off(d)),efu.mediator().on(d,a,[b])}},efu.loader=function(){var a=function(){var a={loader:null,text:null},b=function(a){diy.log("EFU: LOADER: change: ",this,this.$.loader.css("display"),a),this.$.loader&&("none"===this.$.loader.css("display")&&efu.loader.show(),this.$.text.html(a))},c=function(a){efu.log("EFU: LOADER: show: ",this,this.$.loader.css("display"),a),this.$.loader&&(this.$.text.html(a),this.$.loader.show())},d=function(){efu.log("EFU: LOADER: hide: ",this,this.$.loader.css("display")),this.$.loader&&(this.$.loader.hide(),this.$.text.html(""))};return function(){var b=[];b.push('<div id="loader" class="ui-widget-overlay" style="position:fixed; width:100%; height:100%; padding:0; z-index:9999; background:#fff; opacity:0.6;">'),b.push('\t<div class=".ui-widget-overlay" style="width:100%; height:100%; display:table;">'),b.push('\t\t<div style="display: table-cell; vertical-align: middle; text-align:center; margin:auto;">'),b.push('\t\t\t<img src="/gfx/ajax-loader.gif" alt="" /><span id="loader-text"></span>'),b.push("\t\t</div>"),b.push("\t\t</div>"),b.push("</div>"),a.loader=$(b.join("\n")).prependTo("body"),a.text=a.loader.find("#loader-text")}(),{$:a,change:b,hide:d,show:c}}();return efu.loader=function(){return a},efu.loader()},efu.mediator=function(){var a=$({});return efu.mediator=function(){return{off:function(){a.off.apply(a,arguments)},rm:function(){a.off.apply(a,arguments)},on:function(b,c,d){a.on.apply(a,[b,function(){c.apply(window,d)}])},one:function(b,c,d){a.one.apply(a,[b,function(){c.apply(window,d)}])},trigger:function(){a.trigger.apply(a,arguments)}}},efu.mediator()},efu.fbInit=function(){efu.fbInited||(efu.fbInited=!0,FB.init({appId:$("meta[name='fb:app_id']").attr("content"),xfbml:0,version:"v2.3"}))},efu.t=function(a){return efu.i18n.translate(a)},efu.i18n={list:{},add:function(a,b){return this.isAdded||(this.list[a]=b),this},addList:function(a,b){var c,d;for(c in b)d=b[c],this.update(a+"_"+c,d);return this},isAdded:function(a){return void 0===this.list[a]},log:function(){return efu.log("i18n: ",this.list),this},translate:function(a){return this.isAdded?this.list[a]:""},update:function(a,b){return this.list[a]=b,this}},efu.i18n.addList("general",{loading:"Loading...",test:"Just a test"}).addList("validate",{urlNoHttp:"Please specify the correct domain for your documents",multicheckbox:"Please check at least one checkbox"}).log(),efu.utils={isWidthChanged:function(a){if(!a)return!1;var b=$("#"+a);if(0===b.length)return!1;var c=b.parent().width();return 0!==c&&(c!==b.data("efuWidth")&&(b.data("efuWidth",c),c))}},efu.widgets={inlineJs:function(a,b){efu.info("EFU: INLINE-JS: ",a,b);var c=efu.w[a];efu.log("EFU: INLINE-JS: handler: ",$.isFunction(c),c),$.isFunction(c)&&c(b)}},efu.w.iCaptchasIds={},efu.w.widgets=[],efu.w.resetRecaptcha=function(a){var b=efu.w.iCaptchasIds[a];grecaptcha.reset(b)};var onloadCallback=function(){if(iCaptchasIds={},efu.w.widgets.forEach(function(a){if(!a.PREVIEW){$badgePosition="bottomright","hibult"==a.COMPANY&&($badgePosition="inline");var b=grecaptcha.render("send_"+a.CAPTCHA_ID,{callback:function(b){form=$("form.captcha_form_"+a.CAPTCHA_ID),form.submit()},badge:$badgePosition});iCaptchasIds[a.CAPTCHA_ID]=b}}),efu.w.widgets.length>1&&efu.w.widgets[0].hasOwnProperty("containerId")&&"guestBookContainer"==efu.w.widgets[0].containerId){var a=$(".captcha_form_"+efu.w.widgets[0].CAPTCHA_ID);$(".captcha_form_"+efu.w.widgets[1].CAPTCHA_ID).find(".grecaptcha-badge").attr("style",a.find(".grecaptcha-badge").attr("style"))}efu.w.iCaptchasIds=iCaptchasIds};efu.w.setValidator=function(a,b,c,d){a.validate({ignore:".ignore",rules:d,submitHandler:b,errorElement:"div",errorPlacement:function(a,b){"checkbox"==b.attr("type")?a.appendTo(b.closest("li")):a.insertAfter(b)},invalidHandler:function(){efu.w.resetRecaptcha(c)}})};